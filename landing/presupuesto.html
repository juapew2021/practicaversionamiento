<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<title>Presupuestos</title>

<!-- CSS separado -->
<link rel="stylesheet" href="estilos/header.css">
<link rel="stylesheet" href="estilos/body.css">
<link rel="stylesheet" href="estilos/footer.css">
<link rel="stylesheet" href="estilos/components.css">

</head>


<body>

<header>
<h1>Gestión de Presupuestos</h1>
</header>


<main>

<div class="card">

<h3>Crear presupuesto</h3>

<input id="concepto" placeholder="Concepto">

<input id="monto" type="number" placeholder="Monto">

<button type="button" onclick="crear()">Crear</button>

</div>



<div class="card">

<h3>Listar</h3>

<button type="button" onclick="abrirListado()">
Ver todos
</button>

</div>



<div class="card">

<h3>Actualizar / Eliminar</h3>

<input id="updateId" type="number" placeholder="ID presupuesto">

<button type="button" onclick="aprobar()">
Aprobar
</button>

<button class="danger" type="button" onclick="pedirConfirmEliminar()">
Eliminar
</button>

</div>



<div class="card">

<h3>Formulario de Presupuesto</h3>

<a href="formulariopresupuesto.html" target="_blank">
Abrir formulario completo
</a>

</div>
<div class="card">

<h3>Observabilidad / Logs</h3>

<div id="logPanel" class="logPanel"></div>

</div>


<!-- RESULTADO -->
<pre id="output"></pre>
<div class="card">

<h3>Panel QA (Simulación de errores)</h3>

<button onclick="qa_front_bloquea()">
Front bloquea
</button>

<button onclick="qa_db_bloquea()">
Front + API OK → DB bloquea
</button>

<button onclick="qa_api_error()">
API error (500 / endpoint incorrecto)
</button>

<button onclick="qa_timeout()">
Timeout servidor
</button>

<button onclick="qa_bug_backend()">
Bug funcional backend
</button>

</div>

</div>

</main>



<!-- POPUP -->
<div id="popup" class="popup">
<div class="popup-content">
<p id="popup-msg">Presupuesto creado</p>
<button onclick="cerrarPopup()">OK</button>
</div>
</div>



<!-- LOADER -->
<div id="loader" class="loader">
<div class="spinner"></div>
<p>Guardando...</p>
</div>



<!-- CONFIRM DELETE -->
<div id="confirmDelete" class="popup">
<div class="popup-content">

<p>¿Seguro que deseas eliminar este presupuesto?</p>

<button onclick="confirmarEliminar()">
Sí, eliminar
</button>

<button onclick="cerrarConfirm()">
Cancelar
</button>

</div>
</div>



<footer>

<div class="footer-content">

<img src="../img/logo.png" alt="QAlaub Logo" class="footer-logo">

<p>
Proyecto demo educativo 2019 - 2026 ·
<a href="https://qalaub.com" target="_blank">
https://qalaub.com
</a>
</p>

</div>

</footer>
<script src="./script/presupuesto.js"></script>
</body>
</html>